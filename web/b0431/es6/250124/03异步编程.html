<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>

	<body>
		<div id="output"></div>
		<script>
			// 打印 1
			console.log(1);

			// 以下 setTimeout 相关代码被注释，如需使用可取消注释
			// setTimeout(() => {
			//     console.log(3);
			// }, 0);
			// console.log(2);

			// 以下 eval 相关代码被注释，eval 有安全风险，使用需谨慎
			// console.log(eval("1+2"));

			// 获取页面元素，以下代码被注释，如需使用可完善相关逻辑
			// let outputElem = document.getElementById("output");

			// 定义用户语言对象，以下代码被注释，如需使用可取消注释并完善逻辑
			// let userLanguages = {
			//     Mike: "en",
			//     Teresa: "es"
			// };

			// 以下 greetUser 函数相关代码被注释，如需使用可取消注释并确保相关依赖可用
			// function greetUser(user) {
			//     function localGreeting(user) {
			//         let language = userLanguages[user];
			//         let greeting;
			//         switch (language) {
			//             case "es":
			//                 greeting = `¡Hola, ${user}!`;
			//                 break;
			//             case "en":
			//                 greeting = `Hello, ${user}!`;
			//                 break;
			//             default:
			//                 greeting = `Hello, ${user}!`;
			//                 break;
			//         }
			//         return greeting;
			//     }
			//     outputElem.innerHTML += `${localGreeting(user)}<br>\r`;
			// }
			// greetUser("Mike");
			// greetUser("Teresa");
			// greetUser("Veronica");

			// 回调地狱示例相关代码被注释，如需使用可取消注释并完善逻辑
			// function setTimeoutCallback(cd) {
			//     setTimeout(() => {
			//         cd(() => {
			//             console.log("任务二");
			//             cd();
			//         });
			//     }, 0);
			// }
			// function ajaxCallback(cd2) {
			//     console.log("任务1");
			//     cd2(() => {
			//         console.log("任务3");
			//     });
			// }

			// 使用 Promise 改写异步操作
			function ajax() {
				return new Promise((resolve, reject) => {
					setTimeout(() => {
						resolve();
					}, 0);
				});
			}

			ajax()
				.then(() => {
					console.log('任务1');
				})
				.then(() => {
					console.log('任务2');
				})
				.then(() => {
					console.log('任务3');
				})
				.catch((err) => {
					console.log('err');
				})
				.finally(() => {
					console.log(123);
				});
		</script>
	</body>
</html>
